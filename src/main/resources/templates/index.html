<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Kjørebok</title>
  <link rel="stylesheet" th:href="@{/styles.css}" />
</head>
<body>
<h1>Kjørebok</h1>

<!-- Skjema for å legge til ny kjøretur -->
<form action="#" th:action="@{/lagre}" th:object="${kjoring}" method="post">
  <label for="dato">Dato:</label>
  <input type="date" id="dato" th:field="*{dato}" required />
  <br/>
  <label for="fra">Fra:</label>
  <input type="text" id="fra" th:field="*{fra}" required />
  <br/>
  <label for="til">Til:</label>
  <input type="text" id="til" th:field="*{til}" required />
  <br/>
  <label for="km">Kilometer:</label>
  <input type="number" step="0.1" id="km" th:field="*{kilometer}" required />
  <br/>
  <button type="submit">Lagre</button>
</form>

<hr/>

<!-- Oversikt over registrerte turer -->
<h2>Mine turer</h2>
<table border="1">
  <thead>
  <tr>
    <th>Dato</th>
    <th>Fra</th>
    <th>Til</th>
    <th>Km</th>
    <th>Godtgjørelse (kr)</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="tur : ${alleTurer}">
    <td th:text="${tur.dato}"></td>
    <td th:text="${tur.fra}"></td>
    <td th:text="${tur.til}"></td>
    <td th:text="${tur.kilometer}"></td>
    <td th:text="${#numbers.formatDecimal(tur.kilometer * 4.48, 1, 'COMMA', 2, 'POINT')}"></td>
  </tr>
  </tbody>
</table>

<h3>Total godtgjørelse:
  <span th:text="${#numbers.formatDecimal(total, 1, 'COMMA', 2, 'POINT')} + ' kr'"></span>
</h3>
</body>
</html>
